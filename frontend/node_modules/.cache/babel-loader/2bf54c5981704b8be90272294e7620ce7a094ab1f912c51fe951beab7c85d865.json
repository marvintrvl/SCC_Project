{"ast":null,"code":"import { createStore } from 'vuex';\nimport axios from 'axios'; // Add this line to import Axios\n\nconst store = createStore({\n  state: {\n    authToken: null,\n    cartItems: [] // Add this line to initialize cartItems in the state\n  },\n  mutations: {\n    setAuthToken(state, token) {\n      state.authToken = token;\n    },\n    clearAuthToken(state) {\n      state.authToken = null;\n    },\n    setCart(state, cartItems) {\n      // Add this mutation to set cartItems in the state\n      state.cartItems = cartItems;\n    }\n  },\n  actions: {\n    fetchCart({\n      commit,\n      state\n    }) {\n      // Retrieve the token from the state\n      const token = state.authToken;\n      axios.get('http://127.0.0.1:5002/get-cart', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(response => {\n        commit('setCart', response.data.cart_items);\n      }).catch(error => {\n        console.error('Error fetching cart items:', error);\n      });\n    },\n    login({\n      commit\n    }, token) {\n      commit('setAuthToken', token);\n    },\n    logout({\n      commit\n    }) {\n      commit('clearAuthToken');\n    }\n  }\n});\nexport default store;","map":{"version":3,"names":["createStore","axios","store","state","authToken","cartItems","mutations","setAuthToken","token","clearAuthToken","setCart","actions","fetchCart","commit","get","headers","Authorization","then","response","data","cart_items","catch","error","console","login","logout"],"sources":["C:/Users/menzm/Desktop/SCC_Project/frontend/src/store/store.js"],"sourcesContent":["import { createStore } from 'vuex';\r\nimport axios from 'axios';  // Add this line to import Axios\r\n\r\nconst store = createStore({\r\n  state: {\r\n    authToken: null,\r\n    cartItems: [],  // Add this line to initialize cartItems in the state\r\n  },\r\n  mutations: {\r\n    setAuthToken(state, token) {\r\n      state.authToken = token;\r\n    },\r\n    clearAuthToken(state) {\r\n      state.authToken = null;\r\n    },\r\n    setCart(state, cartItems) {  // Add this mutation to set cartItems in the state\r\n      state.cartItems = cartItems;\r\n    },\r\n  },\r\n  actions: {\r\n    fetchCart({ commit, state }) {\r\n      // Retrieve the token from the state\r\n      const token = state.authToken;\r\n\r\n      axios.get('http://127.0.0.1:5002/get-cart', { headers: { Authorization: `Bearer ${token}` } })\r\n        .then(response => {\r\n          commit('setCart', response.data.cart_items);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching cart items:', error);\r\n        });\r\n    },\r\n    login({ commit }, token) {\r\n      commit('setAuthToken', token);\r\n    },\r\n    logout({ commit }) {\r\n      commit('clearAuthToken');\r\n    },\r\n  },\r\n});\r\n\r\nexport default store;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,OAAOC,KAAK,MAAM,OAAO,CAAC,CAAE;;AAE5B,MAAMC,KAAK,GAAGF,WAAW,CAAC;EACxBG,KAAK,EAAE;IACLC,SAAS,EAAE,IAAI;IACfC,SAAS,EAAE,EAAE,CAAG;EAClB,CAAC;EACDC,SAAS,EAAE;IACTC,YAAYA,CAACJ,KAAK,EAAEK,KAAK,EAAE;MACzBL,KAAK,CAACC,SAAS,GAAGI,KAAK;IACzB,CAAC;IACDC,cAAcA,CAACN,KAAK,EAAE;MACpBA,KAAK,CAACC,SAAS,GAAG,IAAI;IACxB,CAAC;IACDM,OAAOA,CAACP,KAAK,EAAEE,SAAS,EAAE;MAAG;MAC3BF,KAAK,CAACE,SAAS,GAAGA,SAAS;IAC7B;EACF,CAAC;EACDM,OAAO,EAAE;IACPC,SAASA,CAAC;MAAEC,MAAM;MAAEV;IAAM,CAAC,EAAE;MAC3B;MACA,MAAMK,KAAK,GAAGL,KAAK,CAACC,SAAS;MAE7BH,KAAK,CAACa,GAAG,CAAC,gCAAgC,EAAE;QAAEC,OAAO,EAAE;UAAEC,aAAa,EAAG,UAASR,KAAM;QAAE;MAAE,CAAC,CAAC,CAC3FS,IAAI,CAACC,QAAQ,IAAI;QAChBL,MAAM,CAAC,SAAS,EAAEK,QAAQ,CAACC,IAAI,CAACC,UAAU,CAAC;MAC7C,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD,CAAC,CAAC;IACN,CAAC;IACDE,KAAKA,CAAC;MAAEX;IAAO,CAAC,EAAEL,KAAK,EAAE;MACvBK,MAAM,CAAC,cAAc,EAAEL,KAAK,CAAC;IAC/B,CAAC;IACDiB,MAAMA,CAAC;MAAEZ;IAAO,CAAC,EAAE;MACjBA,MAAM,CAAC,gBAAgB,CAAC;IAC1B;EACF;AACF,CAAC,CAAC;AAEF,eAAeX,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}