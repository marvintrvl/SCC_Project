{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"bg-gray-900 text-white min-h-screen py-6 sm:py-8 lg:py-12\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-md mx-auto mt-8\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-3xl font-bold mb-4\"\n}, \"Checkout\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"mb-4\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-2xl font-bold mb-2\"\n}, \"Order Details\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"border-collapse border border-gray-800 w-full\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", {\n  class: \"bg-gray-800 text-white\"\n}, [/*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"py-2 px-4\"\n}, \"Photo\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"py-2 px-4\"\n}, \"Size\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"py-2 px-4\"\n}, \"Quantity\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"py-2 px-4\"\n}, \"Subtotal\")])], -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"py-2 px-4\"\n};\nconst _hoisted_9 = {\n  class: \"py-2 px-4\"\n};\nconst _hoisted_10 = {\n  class: \"py-2 px-4\"\n};\nconst _hoisted_11 = {\n  class: \"py-2 px-4\"\n};\nconst _hoisted_12 = {\n  class: \"text-xl font-bold mb-2\"\n};\nconst _hoisted_13 = {\n  class: \"mb-4\"\n};\nconst _hoisted_14 = {\n  class: \"border border-gray-800 p-4\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-2xl font-bold mb-2\"\n}, \"Shipping Information\", -1 /* HOISTED */);\nconst _hoisted_16 = {\n  key: 0\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"font-bold\"\n}, \"First Name:\", -1 /* HOISTED */);\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"font-bold\"\n}, \"Last Name:\", -1 /* HOISTED */);\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"font-bold\"\n}, \"Street:\", -1 /* HOISTED */);\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"font-bold\"\n}, \"Postal Code:\", -1 /* HOISTED */);\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"font-bold\"\n}, \"City:\", -1 /* HOISTED */);\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"font-bold\"\n}, \"Country:\", -1 /* HOISTED */);\nconst _hoisted_23 = {\n  key: 1\n};\nconst _hoisted_24 = {\n  key: 0\n};\nconst _hoisted_25 = {\n  key: 2\n};\nconst _hoisted_26 = {\n  key: 4\n};\nconst _hoisted_27 = {\n  key: 6\n};\nconst _hoisted_28 = {\n  key: 8\n};\nconst _hoisted_29 = {\n  key: 10\n};\nconst _hoisted_30 = {\n  class: \"mb-4\"\n};\nconst _hoisted_31 = {\n  class: \"border border-gray-800 p-4\"\n};\nconst _hoisted_32 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"text-2xl font-bold mb-2\"\n}, \"Bank Information\", -1 /* HOISTED */);\nconst _hoisted_33 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"bankInfo\",\n  class: \"block text-white mb-2\"\n}, \"Enter Bank Information:\", -1 /* HOISTED */);\nconst _hoisted_34 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\"\n}, \"Place Order\", -1 /* HOISTED */);\nconst _hoisted_35 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_36 = /*#__PURE__*/_createStaticVNode(\"<footer class=\\\"py-4 bg-gray-800 flex flex-col justify-center items-center\\\"><div class=\\\"flex justify-center items-center mb-4\\\"><a class=\\\"hover:text-gray-300\\\" href=\\\"https://www.instagram.com/marvin.trvl\\\">Contact Us</a><span class=\\\"mx-2 text-gray-400\\\">|</span><a class=\\\"hover:text-gray-300\\\" href=\\\"https://www.instagram.com/marvin.trvl\\\">Impressum</a><span class=\\\"mx-2 text-gray-400\\\">|</span><a class=\\\"hover:text-gray-300\\\" href=\\\"https://www.instagram.com/marvin.trvl\\\">Instagram</a></div><div class=\\\"text-gray-400\\\">© 2023 SnapStock Licensing &amp; Prints</div></footer>\", 1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"table\", _hoisted_6, [_hoisted_7, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cartItems, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", _hoisted_8, _toDisplayString(item.photo.name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(item.photo.size), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, _toDisplayString(item.quantity), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_11, \"$\" + _toDisplayString(item.photo.price), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"p\", _hoisted_12, \"Total: $\" + _toDisplayString($data.cartTotal), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _createCommentVNode(\" Display user's shipping information \"), !$data.editMode ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createElementVNode(\"p\", null, [_hoisted_17, _createTextVNode(\" \" + _toDisplayString($data.user.first_name) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", {\n    onClick: _cache[0] || (_cache[0] = $event => $options.toggleEditMode('first_name')),\n    class: \"cursor-pointer text-blue-500 ml-2\",\n    title: \"Edit\"\n  }, \"✎\")]), _createElementVNode(\"p\", null, [_hoisted_18, _createTextVNode(\" \" + _toDisplayString($data.user.last_name) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", {\n    onClick: _cache[1] || (_cache[1] = $event => $options.toggleEditMode('last_name')),\n    class: \"cursor-pointer text-blue-500 ml-2\",\n    title: \"Edit\"\n  }, \"✎\")]), _createElementVNode(\"p\", null, [_hoisted_19, _createTextVNode(\" \" + _toDisplayString($data.user.street) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", {\n    onClick: _cache[2] || (_cache[2] = $event => $options.toggleEditMode('street')),\n    class: \"cursor-pointer text-blue-500 ml-2\",\n    title: \"Edit\"\n  }, \"✎\")]), _createElementVNode(\"p\", null, [_hoisted_20, _createTextVNode(\" \" + _toDisplayString($data.user.postal_code) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", {\n    onClick: _cache[3] || (_cache[3] = $event => $options.toggleEditMode('postal_code')),\n    class: \"cursor-pointer text-blue-500 ml-2\",\n    title: \"Edit\"\n  }, \"✎\")]), _createElementVNode(\"p\", null, [_hoisted_21, _createTextVNode(\" \" + _toDisplayString($data.user.city) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", {\n    onClick: _cache[4] || (_cache[4] = $event => $options.toggleEditMode('city')),\n    class: \"cursor-pointer text-blue-500 ml-2\",\n    title: \"Edit\"\n  }, \"✎\")]), _createElementVNode(\"p\", null, [_hoisted_22, _createTextVNode(\" \" + _toDisplayString($data.user.country) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", {\n    onClick: _cache[5] || (_cache[5] = $event => $options.toggleEditMode('country')),\n    class: \"cursor-pointer text-blue-500 ml-2\",\n    title: \"Edit\"\n  }, \"✎\")])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [_createCommentVNode(\" Input fields for editing \"), $data.editField === 'first_name' ? (_openBlock(), _createElementBlock(\"label\", _hoisted_24, \"First Name:\")) : _createCommentVNode(\"v-if\", true), $data.editField === 'first_name' ? _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    key: 1,\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.user.first_name = $event),\n    class: \"rounded-md px-4 py-2 w-full bg-gray-800 text-white\"\n  }, null, 512 /* NEED_PATCH */)), [[_vModelText, $data.user.first_name]]) : _createCommentVNode(\"v-if\", true), $data.editField === 'last_name' ? (_openBlock(), _createElementBlock(\"label\", _hoisted_25, \"Last Name:\")) : _createCommentVNode(\"v-if\", true), $data.editField === 'last_name' ? _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    key: 3,\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.user.last_name = $event),\n    class: \"rounded-md px-4 py-2 w-full bg-gray-800 text-white\"\n  }, null, 512 /* NEED_PATCH */)), [[_vModelText, $data.user.last_name]]) : _createCommentVNode(\"v-if\", true), $data.editField === 'street' ? (_openBlock(), _createElementBlock(\"label\", _hoisted_26, \"Street:\")) : _createCommentVNode(\"v-if\", true), $data.editField === 'street' ? _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    key: 5,\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.user.street = $event),\n    class: \"rounded-md px-4 py-2 w-full bg-gray-800 text-white\"\n  }, null, 512 /* NEED_PATCH */)), [[_vModelText, $data.user.street]]) : _createCommentVNode(\"v-if\", true), $data.editField === 'postal_code' ? (_openBlock(), _createElementBlock(\"label\", _hoisted_27, \"Postal Code:\")) : _createCommentVNode(\"v-if\", true), $data.editField === 'postal_code' ? _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    key: 7,\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.user.postal_code = $event),\n    class: \"rounded-md px-4 py-2 w-full bg-gray-800 text-white\"\n  }, null, 512 /* NEED_PATCH */)), [[_vModelText, $data.user.postal_code]]) : _createCommentVNode(\"v-if\", true), $data.editField === 'city' ? (_openBlock(), _createElementBlock(\"label\", _hoisted_28, \"City:\")) : _createCommentVNode(\"v-if\", true), $data.editField === 'city' ? _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    key: 9,\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.user.city = $event),\n    class: \"rounded-md px-4 py-2 w-full bg-gray-800 text-white\"\n  }, null, 512 /* NEED_PATCH */)), [[_vModelText, $data.user.city]]) : _createCommentVNode(\"v-if\", true), $data.editField === 'country' ? (_openBlock(), _createElementBlock(\"label\", _hoisted_29, \"Country:\")) : _createCommentVNode(\"v-if\", true), $data.editField === 'country' ? _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n    key: 11,\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.user.country = $event),\n    class: \"rounded-md px-4 py-2 w-full bg-gray-800 text-white\"\n  }, null, 512 /* NEED_PATCH */)), [[_vModelText, $data.user.country]]) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    onClick: _cache[12] || (_cache[12] = (...args) => $options.saveChanges && $options.saveChanges(...args)),\n    class: \"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\"\n  }, \"Save\")]))])]), _createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"div\", _hoisted_31, [_hoisted_32, _createCommentVNode(\" Allow the user to enter bank information \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[14] || (_cache[14] = _withModifiers((...args) => $options.placeOrder && $options.placeOrder(...args), [\"prevent\"]))\n  }, [_hoisted_33, _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.bankInfo = $event),\n    name: \"bankInfo\",\n    class: \"rounded-md px-4 py-2 w-full bg-gray-800 text-white resize-none\",\n    maxlength: \"30\",\n    rows: \"1\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.bankInfo]]), _hoisted_34], 32 /* NEED_HYDRATION */)])])]), _hoisted_35]), _hoisted_36], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createElementBlock","_Fragment","_renderList","$data","cartItems","item","key","id","_hoisted_8","_toDisplayString","photo","name","_hoisted_9","size","_hoisted_10","quantity","_hoisted_11","price","_hoisted_12","cartTotal","_hoisted_13","_hoisted_14","_hoisted_15","_createCommentVNode","editMode","_hoisted_16","_hoisted_17","user","first_name","onClick","_cache","$event","$options","toggleEditMode","title","_hoisted_18","last_name","_hoisted_19","street","_hoisted_20","postal_code","_hoisted_21","city","_hoisted_22","country","_hoisted_23","editField","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","args","saveChanges","_hoisted_30","_hoisted_31","_hoisted_32","onSubmit","_withModifiers","placeOrder","_hoisted_33","bankInfo","maxlength","rows","required","_hoisted_34","_hoisted_35","_hoisted_36"],"sources":["C:\\Users\\menzm\\Desktop\\SCC_Project\\frontend\\src\\views\\CheckoutView.vue"],"sourcesContent":["<template>\r\n  <div class=\"bg-gray-900 text-white min-h-screen py-6 sm:py-8 lg:py-12\">\r\n    <div class=\"max-w-md mx-auto mt-8\">\r\n      <h1 class=\"text-3xl font-bold mb-4\">Checkout</h1>\r\n\r\n      <div class=\"mb-4\">\r\n        <h2 class=\"text-2xl font-bold mb-2\">Order Details</h2>\r\n        <table class=\"border-collapse border border-gray-800 w-full\">\r\n          <thead>\r\n            <tr class=\"bg-gray-800 text-white\">\r\n              <th class=\"py-2 px-4\">Photo</th>\r\n              <th class=\"py-2 px-4\">Size</th>\r\n              <th class=\"py-2 px-4\">Quantity</th>\r\n              <th class=\"py-2 px-4\">Subtotal</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in cartItems\" :key=\"item.id\">\r\n              <td class=\"py-2 px-4\">{{ item.photo.name }}</td>\r\n              <td class=\"py-2 px-4\">{{ item.photo.size }}</td>\r\n              <td class=\"py-2 px-4\">{{ item.quantity }}</td>\r\n              <td class=\"py-2 px-4\">${{ item.photo.price }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <p class=\"text-xl font-bold mb-2\">Total: ${{ cartTotal }}</p>\r\n\r\n      <div class=\"mb-4\">\r\n        <div class=\"border border-gray-800 p-4\">\r\n          <h2 class=\"text-2xl font-bold mb-2\">Shipping Information</h2>\r\n          <!-- Display user's shipping information -->\r\n          <div v-if=\"!editMode\">\r\n            <p><span class=\"font-bold\">First Name:</span> {{ user.first_name }} <span @click=\"toggleEditMode('first_name')\" class=\"cursor-pointer text-blue-500 ml-2\" title=\"Edit\">&#9998;</span></p>\r\n            <p><span class=\"font-bold\">Last Name:</span> {{ user.last_name }} <span @click=\"toggleEditMode('last_name')\" class=\"cursor-pointer text-blue-500 ml-2\" title=\"Edit\">&#9998;</span></p>\r\n            <p><span class=\"font-bold\">Street:</span> {{ user.street }} <span @click=\"toggleEditMode('street')\" class=\"cursor-pointer text-blue-500 ml-2\" title=\"Edit\">&#9998;</span></p>\r\n            <p><span class=\"font-bold\">Postal Code:</span> {{ user.postal_code }} <span @click=\"toggleEditMode('postal_code')\" class=\"cursor-pointer text-blue-500 ml-2\" title=\"Edit\">&#9998;</span></p>\r\n            <p><span class=\"font-bold\">City:</span> {{ user.city }} <span @click=\"toggleEditMode('city')\" class=\"cursor-pointer text-blue-500 ml-2\" title=\"Edit\">&#9998;</span></p>\r\n            <p><span class=\"font-bold\">Country:</span> {{ user.country }} <span @click=\"toggleEditMode('country')\" class=\"cursor-pointer text-blue-500 ml-2\" title=\"Edit\">&#9998;</span></p>\r\n          </div>\r\n          <div v-else>\r\n            <!-- Input fields for editing -->\r\n            <label v-if=\"editField === 'first_name'\">First Name:</label>\r\n            <input v-if=\"editField === 'first_name'\" v-model=\"user.first_name\" class=\"rounded-md px-4 py-2 w-full bg-gray-800 text-white\" />\r\n            <label v-if=\"editField === 'last_name'\">Last Name:</label>\r\n            <input v-if=\"editField === 'last_name'\" v-model=\"user.last_name\" class=\"rounded-md px-4 py-2 w-full bg-gray-800 text-white\" />\r\n            <label v-if=\"editField === 'street'\">Street:</label>\r\n            <input v-if=\"editField === 'street'\" v-model=\"user.street\" class=\"rounded-md px-4 py-2 w-full bg-gray-800 text-white\" />\r\n            <label v-if=\"editField === 'postal_code'\">Postal Code:</label>\r\n            <input v-if=\"editField === 'postal_code'\" v-model=\"user.postal_code\" class=\"rounded-md px-4 py-2 w-full bg-gray-800 text-white\" />\r\n            <label v-if=\"editField === 'city'\">City:</label>\r\n            <input v-if=\"editField === 'city'\" v-model=\"user.city\" class=\"rounded-md px-4 py-2 w-full bg-gray-800 text-white\" />\r\n            <label v-if=\"editField === 'country'\">Country:</label>\r\n            <input v-if=\"editField === 'country'\" v-model=\"user.country\" class=\"rounded-md px-4 py-2 w-full bg-gray-800 text-white\" />\r\n            <button @click=\"saveChanges\" class=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\">Save</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mb-4\">\r\n        <div class=\"border border-gray-800 p-4\">\r\n          <h2 class=\"text-2xl font-bold mb-2\">Bank Information</h2>\r\n          <!-- Allow the user to enter bank information -->\r\n          <form @submit.prevent=\"placeOrder\">\r\n            <label for=\"bankInfo\" class=\"block text-white mb-2\">Enter Bank Information:</label>\r\n            <textarea v-model=\"bankInfo\" name=\"bankInfo\" class=\"rounded-md px-4 py-2 w-full bg-gray-800 text-white resize-none\" maxlength=\"30\" rows=\"1\" required></textarea>\r\n            <button type=\"submit\" class=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\">Place Order</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <br>\r\n  </div>\r\n  <footer class=\"py-4 bg-gray-800 flex flex-col justify-center items-center\">\r\n    <div class=\"flex justify-center items-center mb-4\">\r\n      <a class=\"hover:text-gray-300\" href=\"https://www.instagram.com/marvin.trvl\">Contact Us</a>\r\n      <span class=\"mx-2 text-gray-400\">|</span>\r\n      <a class=\"hover:text-gray-300\" href=\"https://www.instagram.com/marvin.trvl\">Impressum</a>\r\n      <span class=\"mx-2 text-gray-400\">|</span>\r\n      <a class=\"hover:text-gray-300\" href=\"https://www.instagram.com/marvin.trvl\">Instagram</a>\r\n    </div>\r\n    <div class=\"text-gray-400\">&copy; 2023 SnapStock Licensing & Prints</div>\r\n  </footer>\r\n</template>\r\n\r\n\r\n<script>\r\n  import axios from 'axios';\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        cartItems: [],\r\n        cartTotal: 0,\r\n        user: {},\r\n        bankInfo: '',\r\n        editMode: false,\r\n        editField: '',\r\n      };\r\n    },\r\n    methods: {\r\n      fetchCartItems() {\r\n        axios.get('http://127.0.0.1:5002/get-cart', {\r\n          headers: {\r\n            Authorization: `Bearer ${this.$store.state.authToken}`,\r\n          },\r\n        })\r\n        .then(response => {\r\n          // Log raw API response \r\n          console.log('API Response:', response.data);\r\n\r\n          const cartItems = response.data.cart_items;\r\n          console.log('First Item:', cartItems[0]);\r\n          const firstItem = cartItems[0];\r\n          console.log('First item photo ID:', firstItem.photo_id);\r\n\r\n          // Log cart items separately \r\n          console.log('Cart Items:', cartItems);\r\n\r\n          this.cartItems = cartItems;\r\n          this.cartTotal = response.data.total_price;\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching cart items:', error);\r\n        });\r\n      },\r\n      fetchUserInfo() {\r\n        axios.get('http://127.0.0.1:5000/profile', {\r\n          headers: {\r\n            Authorization: `Bearer ${this.$store.state.authToken}`,\r\n          },\r\n        })\r\n        .then(response => {\r\n          this.user = response.data;\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching user information:', error);\r\n        });\r\n      },\r\n      placeOrder() {\r\n        const orderDetails = this.cartItems.map(item => {\r\n          if (item.photo) {\r\n            return {\r\n              quantity: item.quantity,\r\n              size: item.photo.size,\r\n              photo_name: item.photo.name,\r\n              photo_id: item.photo_id,  // Corrected from item.photo_id\r\n              subtotal: item.photo.price,\r\n            };\r\n          } else {\r\n            console.error('Item photo is undefined:', item);\r\n            return null;\r\n          }\r\n        }).filter(orderDetail => orderDetail !== null);\r\n\r\n        const orderData = {\r\n          total_price: this.cartTotal,\r\n          shipping_address: `${this.user.street}, ${this.user.postal_code}, ${this.user.city}, ${this.user.country}`,\r\n          bank_info: this.bankInfo,\r\n          order_details: orderDetails,\r\n          first_name: this.user.first_name,\r\n          last_name: this.user.last_name,\r\n        };\r\n\r\n        axios.post('http://127.0.0.1:5004/place-order', orderData, {\r\n          headers: {\r\n            Authorization: `Bearer ${this.$store.state.authToken}`,\r\n          },\r\n        })\r\n        .then(response => {\r\n          console.log('Order placed successfully:', response.data);\r\n\r\n          this.$router.push({\r\n            name: 'OrderSuccessView',\r\n            params: { orderId: response.data.order_id }\r\n          });\r\n          // Clear the user's cart after placing the order\r\n          axios.delete('http://127.0.0.1:5002/clear-cart', {\r\n            headers: {\r\n              Authorization: `Bearer ${this.$store.state.authToken}`,\r\n            },\r\n          })\r\n          .then(clearResponse => {\r\n            console.log('Cart cleared successfully:', clearResponse.data);\r\n            // Optionally, you can navigate to a thank you page or perform other actions\r\n          })\r\n          .catch(clearError => {\r\n            console.error('Error clearing cart:', clearError);\r\n            // Handle error while clearing the cart\r\n          });\r\n        })\r\n        .catch(error => {\r\n          console.error('Error placing order:', error);\r\n          // Handle error, show a message to the user, etc.\r\n        });\r\n      },\r\n      toggleEditMode(field) {\r\n        this.editMode = !this.editMode;\r\n        if (this.editMode) {\r\n          this.editField = field;\r\n        } else {\r\n          this.editField = '';\r\n        }\r\n      },\r\n      saveChanges() {\r\n        // Perform any necessary validation or additional logic before saving\r\n        // For simplicity, assuming the changes are valid and updating the user object directly\r\n        this.editMode = false;\r\n        this.editField = '';\r\n      },\r\n    },\r\n    created() {\r\n      this.fetchCartItems();\r\n      this.fetchUserInfo();\r\n    },\r\n  };\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}