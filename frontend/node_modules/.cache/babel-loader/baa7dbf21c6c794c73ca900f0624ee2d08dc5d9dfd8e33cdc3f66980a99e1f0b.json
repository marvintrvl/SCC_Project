{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      cartItems: [],\n      cartTotal: 0,\n      user: {},\n      // Add a user object to store user information\n      bankInfo: ''\n    };\n  },\n  methods: {\n    fetchCartItems() {\n      axios.get('http://127.0.0.1:5002/get-cart', {\n        headers: {\n          Authorization: `Bearer ${this.$store.state.authToken}`\n        }\n      }).then(response => {\n        this.cartItems = response.data.cart_items;\n        this.cartTotal = response.data.total_price;\n      }).catch(error => {\n        console.error('Error fetching cart items:', error);\n      });\n    },\n    fetchUserInfo() {\n      // Fetch user information\n      axios.get('http://your-user-service-endpoint/get-user-info', {\n        headers: {\n          Authorization: `Bearer ${this.$store.state.authToken}`\n        }\n      }).then(response => {\n        this.user = response.data; // Assuming your user service provides this endpoint\n      }).catch(error => {\n        console.error('Error fetching user information:', error);\n      });\n    },\n    placeOrder() {\n      // Implement order placement logic here\n    }\n  },\n  created() {\n    // Fetch the cart items and user information on component creation\n    this.fetchCartItems();\n    this.fetchUserInfo();\n  }\n};","map":{"version":3,"names":["axios","data","cartItems","cartTotal","user","bankInfo","methods","fetchCartItems","get","headers","Authorization","$store","state","authToken","then","response","cart_items","total_price","catch","error","console","fetchUserInfo","placeOrder","created"],"sources":["C:\\Users\\menzm\\Desktop\\SCC_Project\\frontend\\src\\views\\CheckoutView.vue"],"sourcesContent":["<template>\r\n  <div class=\"max-w-md mx-auto mt-8\">\r\n    <h1 class=\"text-3xl font-bold mb-4\">Checkout</h1>\r\n\r\n    <div class=\"mb-4\">\r\n      <h2 class=\"text-2xl font-bold mb-2\">Order Details</h2>\r\n      <table class=\"border-collapse border border-gray-800 w-full\">\r\n        <thead>\r\n          <tr class=\"bg-gray-800 text-white\">\r\n            <th class=\"py-2 px-4\">Photo</th>\r\n            <th class=\"py-2 px-4\">Size</th>\r\n            <th class=\"py-2 px-4\">Quantity</th>\r\n            <th class=\"py-2 px-4\">Subtotal</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in cartItems\" :key=\"item.id\">\r\n            <td class=\"py-2 px-4\">{{ item.photo.name }}</td>\r\n            <td class=\"py-2 px-4\">{{ item.size }}</td>\r\n            <td class=\"py-2 px-4\">{{ item.quantity }}</td>\r\n            <td class=\"py-2 px-4\">${{ item.photo.price * item.quantity }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <p class=\"text-xl font-bold mb-2\">Total: ${{ cartTotal }}</p>\r\n\r\n    <div class=\"mb-4\">\r\n      <div class=\"border border-gray-800 p-4\">\r\n        <h2 class=\"text-2xl font-bold mb-2\">Shipping Information</h2>\r\n        <!-- Display user's shipping information -->\r\n        <p><span class=\"font-bold\">Street:</span> {{ user.street }}</p>\r\n        <p><span class=\"font-bold\">Postal Code:</span> {{ user.postal_code }}</p>\r\n        <p><span class=\"font-bold\">City:</span> {{ user.city }}</p>\r\n        <p><span class=\"font-bold\">Country:</span> {{ user.country }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"mb-4\">\r\n      <div class=\"border border-gray-800 p-4\">\r\n        <h2 class=\"text-2xl font-bold mb-2\">Bank Information</h2>\r\n        <!-- Allow the user to enter bank information -->\r\n        <form @submit.prevent=\"placeOrder\">\r\n          <label for=\"bankInfo\" class=\"block text-white mb-2\">Enter Bank Information:</label>\r\n          <textarea v-model=\"bankInfo\" name=\"bankInfo\" class=\"rounded-md px-4 py-2 w-full bg-gray-800 text-white resize-none\" maxlength=\"30\" rows=\"1\" required></textarea>\r\n          <button type=\"submit\" class=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\">Place Order</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      cartItems: [],\r\n      cartTotal: 0,\r\n      user: {}, // Add a user object to store user information\r\n      bankInfo: '',\r\n    };\r\n  },\r\n  methods: {\r\n    fetchCartItems() {\r\n      axios.get('http://127.0.0.1:5002/get-cart', {\r\n        headers: {\r\n          Authorization: `Bearer ${this.$store.state.authToken}`,\r\n        },\r\n      })\r\n        .then(response => {\r\n          this.cartItems = response.data.cart_items;\r\n          this.cartTotal = response.data.total_price;\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching cart items:', error);\r\n        });\r\n    },\r\n    fetchUserInfo() {\r\n      // Fetch user information\r\n      axios.get('http://your-user-service-endpoint/get-user-info', {\r\n        headers: {\r\n          Authorization: `Bearer ${this.$store.state.authToken}`,\r\n        },\r\n      })\r\n        .then(response => {\r\n          this.user = response.data; // Assuming your user service provides this endpoint\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching user information:', error);\r\n        });\r\n    },\r\n    placeOrder() {\r\n      // Implement order placement logic here\r\n    },\r\n  },\r\n  created() {\r\n    // Fetch the cart items and user information on component creation\r\n    this.fetchCartItems();\r\n    this.fetchUserInfo();\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"AAsDA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE,CAAC;MACZC,IAAI,EAAE,CAAC,CAAC;MAAE;MACVC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,cAAcA,CAAA,EAAG;MACfP,KAAK,CAACQ,GAAG,CAAC,gCAAgC,EAAE;QAC1CC,OAAO,EAAE;UACPC,aAAa,EAAG,UAAS,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,SAAU;QACvD;MACF,CAAC,EACEC,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACb,SAAQ,GAAIa,QAAQ,CAACd,IAAI,CAACe,UAAU;QACzC,IAAI,CAACb,SAAQ,GAAIY,QAAQ,CAACd,IAAI,CAACgB,WAAW;MAC5C,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD,CAAC,CAAC;IACN,CAAC;IACDE,aAAaA,CAAA,EAAG;MACd;MACArB,KAAK,CAACQ,GAAG,CAAC,iDAAiD,EAAE;QAC3DC,OAAO,EAAE;UACPC,aAAa,EAAG,UAAS,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,SAAU;QACvD;MACF,CAAC,EACEC,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACX,IAAG,GAAIW,QAAQ,CAACd,IAAI,EAAE;MAC7B,CAAC,EACAiB,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MAC1D,CAAC,CAAC;IACN,CAAC;IACDG,UAAUA,CAAA,EAAG;MACX;IAAA;EAEJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAAChB,cAAc,CAAC,CAAC;IACrB,IAAI,CAACc,aAAa,CAAC,CAAC;EACtB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}