{"ast":null,"code":"import { createStore } from 'vuex';\nimport axios from 'axios';\nconst store = createStore({\n  state: {\n    authToken: null,\n    cartItems: []\n  },\n  mutations: {\n    setAuthToken(state, token) {\n      state.authToken = token;\n    },\n    clearAuthToken(state) {\n      state.authToken = null;\n    },\n    setCart(state, cartItems) {\n      state.cartItems = cartItems;\n    },\n    updateCartItems(state, updatedItems) {\n      state.cartItems = updatedItems;\n    }\n  },\n  actions: {\n    fetchCart({\n      commit,\n      state\n    }) {\n      const token = state.authToken;\n      axios.get('http://127.0.0.1:5002/get-cart', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(response => {\n        commit('setCart', response.data.cart_items);\n      }).catch(error => {\n        console.error('Error fetching cart items:', error);\n      });\n    },\n    login({\n      commit\n    }, token) {\n      commit('setAuthToken', token);\n    },\n    logout({\n      commit\n    }) {\n      commit('clearAuthToken');\n    },\n    updateCart({\n      commit,\n      state\n    }, updatedItems) {\n      const token = state.authToken;\n\n      // Make an API call to update the cart on the server\n      axios.put('http://127.0.0.1:5002/update-cart', {\n        cart_items: updatedItems\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(response => {\n        console.log('Cart updated successfully:', response.data);\n        commit('updateCartItems', updatedItems);\n      }).catch(error => {\n        console.error('Error updating cart:', error);\n      });\n    }\n  }\n});\nexport default store;","map":{"version":3,"names":["createStore","axios","store","state","authToken","cartItems","mutations","setAuthToken","token","clearAuthToken","setCart","updateCartItems","updatedItems","actions","fetchCart","commit","get","headers","Authorization","then","response","data","cart_items","catch","error","console","login","logout","updateCart","put","log"],"sources":["C:/Users/menzm/Desktop/SCC_Project/frontend/src/store/store.js"],"sourcesContent":["import { createStore } from 'vuex';\r\nimport axios from 'axios';\r\n\r\nconst store = createStore({\r\n  state: {\r\n    authToken: null,\r\n    cartItems: [],\r\n  },\r\n  mutations: {\r\n    setAuthToken(state, token) {\r\n      state.authToken = token;\r\n    },\r\n    clearAuthToken(state) {\r\n      state.authToken = null;\r\n    },\r\n    setCart(state, cartItems) {\r\n      state.cartItems = cartItems;\r\n    },\r\n    updateCartItems(state, updatedItems) {\r\n      state.cartItems = updatedItems;\r\n    },\r\n  },\r\n  actions: {\r\n    fetchCart({ commit, state }) {\r\n      const token = state.authToken;\r\n\r\n      axios.get('http://127.0.0.1:5002/get-cart', { headers: { Authorization: `Bearer ${token}` } })\r\n        .then(response => {\r\n          commit('setCart', response.data.cart_items);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error fetching cart items:', error);\r\n        });\r\n    },\r\n    login({ commit }, token) {\r\n      commit('setAuthToken', token);\r\n    },\r\n    logout({ commit }) {\r\n      commit('clearAuthToken');\r\n    },\r\n    updateCart({ commit, state }, updatedItems) {\r\n      const token = state.authToken;\r\n\r\n      // Make an API call to update the cart on the server\r\n      axios.put('http://127.0.0.1:5002/update-cart', { cart_items: updatedItems }, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      })\r\n        .then(response => {\r\n          console.log('Cart updated successfully:', response.data);\r\n          commit('updateCartItems', updatedItems);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error updating cart:', error);\r\n        });\r\n    },\r\n  },\r\n});\r\n\r\nexport default store;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,KAAK,GAAGF,WAAW,CAAC;EACxBG,KAAK,EAAE;IACLC,SAAS,EAAE,IAAI;IACfC,SAAS,EAAE;EACb,CAAC;EACDC,SAAS,EAAE;IACTC,YAAYA,CAACJ,KAAK,EAAEK,KAAK,EAAE;MACzBL,KAAK,CAACC,SAAS,GAAGI,KAAK;IACzB,CAAC;IACDC,cAAcA,CAACN,KAAK,EAAE;MACpBA,KAAK,CAACC,SAAS,GAAG,IAAI;IACxB,CAAC;IACDM,OAAOA,CAACP,KAAK,EAAEE,SAAS,EAAE;MACxBF,KAAK,CAACE,SAAS,GAAGA,SAAS;IAC7B,CAAC;IACDM,eAAeA,CAACR,KAAK,EAAES,YAAY,EAAE;MACnCT,KAAK,CAACE,SAAS,GAAGO,YAAY;IAChC;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,SAASA,CAAC;MAAEC,MAAM;MAAEZ;IAAM,CAAC,EAAE;MAC3B,MAAMK,KAAK,GAAGL,KAAK,CAACC,SAAS;MAE7BH,KAAK,CAACe,GAAG,CAAC,gCAAgC,EAAE;QAAEC,OAAO,EAAE;UAAEC,aAAa,EAAG,UAASV,KAAM;QAAE;MAAE,CAAC,CAAC,CAC3FW,IAAI,CAACC,QAAQ,IAAI;QAChBL,MAAM,CAAC,SAAS,EAAEK,QAAQ,CAACC,IAAI,CAACC,UAAU,CAAC;MAC7C,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD,CAAC,CAAC;IACN,CAAC;IACDE,KAAKA,CAAC;MAAEX;IAAO,CAAC,EAAEP,KAAK,EAAE;MACvBO,MAAM,CAAC,cAAc,EAAEP,KAAK,CAAC;IAC/B,CAAC;IACDmB,MAAMA,CAAC;MAAEZ;IAAO,CAAC,EAAE;MACjBA,MAAM,CAAC,gBAAgB,CAAC;IAC1B,CAAC;IACDa,UAAUA,CAAC;MAAEb,MAAM;MAAEZ;IAAM,CAAC,EAAES,YAAY,EAAE;MAC1C,MAAMJ,KAAK,GAAGL,KAAK,CAACC,SAAS;;MAE7B;MACAH,KAAK,CAAC4B,GAAG,CAAC,mCAAmC,EAAE;QAAEP,UAAU,EAAEV;MAAa,CAAC,EAAE;QAC3EK,OAAO,EAAE;UAAEC,aAAa,EAAG,UAASV,KAAM;QAAE;MAC9C,CAAC,CAAC,CACCW,IAAI,CAACC,QAAQ,IAAI;QAChBK,OAAO,CAACK,GAAG,CAAC,4BAA4B,EAAEV,QAAQ,CAACC,IAAI,CAAC;QACxDN,MAAM,CAAC,iBAAiB,EAAEH,YAAY,CAAC;MACzC,CAAC,CAAC,CACDW,KAAK,CAACC,KAAK,IAAI;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C,CAAC,CAAC;IACN;EACF;AACF,CAAC,CAAC;AAEF,eAAetB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}