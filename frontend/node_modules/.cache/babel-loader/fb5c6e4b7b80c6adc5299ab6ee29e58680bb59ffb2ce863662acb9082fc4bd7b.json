{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      photos: [],\n      photoData: {}\n    };\n  },\n  async mounted() {\n    await this.fetchLatestPhotos();\n  },\n  methods: {\n    async fetchLatestPhotos() {\n      const response = await axios.get('/');\n      this.photos = response.data.recent_photos;\n\n      // Prefetch full data\n      this.photos.forEach(photo => {\n        this.getPhotoData(photo.id);\n      });\n    },\n    async getPhotoData(id) {\n      let url = this.photoData[id];\n      if (!url) {\n        const {\n          data\n        } = await axios.get(`/photos/${id}`);\n        this.$set(this.photoData, id, data.photo.image.url);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","photos","photoData","mounted","fetchLatestPhotos","methods","response","get","recent_photos","forEach","photo","getPhotoData","id","url","$set","image"],"sources":["C:\\Users\\menzm\\Desktop\\SCC_Project\\frontend\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\r\n  <div class=\"bg-custom-color dark:bg-gray-800 min-h-screen py-6 sm:py-8 lg:py-12\">\r\n    <!-- Welcome Message -->\r\n    <div class=\"text-center mb-6 md:mb-8\">\r\n      <p class=\"text-xl text-white dark:text-gray-300 md:text-2xl font-bold\">\r\n        Welcome to SnapStock Licensing & Prints! We offer licenses, prints, and calendars of high-quality images.\r\n      </p>\r\n    </div>\r\n\r\n    <!-- Search Bar -->\r\n    <form @submit.prevent=\"search\" class=\"mb-6 text-center\">\r\n      <input v-model=\"searchKeywords\" type=\"text\" placeholder=\"Search for keywords\" class=\"p-2 border rounded-md\">\r\n      <button type=\"submit\" class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">Search</button>\r\n    </form>\r\n\r\n    <!-- Latest Photos -->\r\n    <div class=\"mb-4 flex items-center justify-between gap-8 sm:mb-8 md:mb-12\">\r\n      <div class=\"flex items-center gap-12\">\r\n        <h2 class=\"text-3xl font-bold text-white lg:text-4xl dark:text-white\">Latest Photos</h2>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"grid grid-cols-2 gap-4 sm:grid-cols-3 md:gap-6 xl:gap-8\">\r\n      <div v-for=\"photo in photos\" :key=\"photo.id\">\r\n        <img :src=\"getPhotoUrl(photo.id) || 'https://example.com/placeholder.jpg'\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    data() {\r\n    return {\r\n      photos: [],\r\n      photoData: {},\r\n    }   \r\n  },\r\n\r\n  async mounted() {\r\n    await this.fetchLatestPhotos(); \r\n  },\r\n\r\n  methods: {\r\n    async fetchLatestPhotos() {\r\n      const response = await axios.get('/');\r\n      this.photos = response.data.recent_photos;\r\n      \r\n      // Prefetch full data\r\n      this.photos.forEach(photo => {\r\n        this.getPhotoData(photo.id); \r\n      });\r\n    },\r\n    \r\n    async getPhotoData(id) {\r\n      let url = this.photoData[id];\r\n      if (!url) {\r\n        const { data } = await axios.get(`/photos/${id}`);   \r\n        this.$set(this.photoData, id, data.photo.image.url);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>"],"mappings":"AA+BA,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACXC,IAAIA,CAAA,EAAG;IACP,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,SAAS,EAAE,CAAC;IACd;EACF,CAAC;EAED,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAM,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAChC,CAAC;EAEDC,OAAO,EAAE;IACP,MAAMD,iBAAiBA,CAAA,EAAG;MACxB,MAAME,QAAO,GAAI,MAAMP,KAAK,CAACQ,GAAG,CAAC,GAAG,CAAC;MACrC,IAAI,CAACN,MAAK,GAAIK,QAAQ,CAACN,IAAI,CAACQ,aAAa;;MAEzC;MACA,IAAI,CAACP,MAAM,CAACQ,OAAO,CAACC,KAAI,IAAK;QAC3B,IAAI,CAACC,YAAY,CAACD,KAAK,CAACE,EAAE,CAAC;MAC7B,CAAC,CAAC;IACJ,CAAC;IAED,MAAMD,YAAYA,CAACC,EAAE,EAAE;MACrB,IAAIC,GAAE,GAAI,IAAI,CAACX,SAAS,CAACU,EAAE,CAAC;MAC5B,IAAI,CAACC,GAAG,EAAE;QACR,MAAM;UAAEb;QAAK,IAAI,MAAMD,KAAK,CAACQ,GAAG,CAAE,WAAUK,EAAG,EAAC,CAAC;QACjD,IAAI,CAACE,IAAI,CAAC,IAAI,CAACZ,SAAS,EAAEU,EAAE,EAAEZ,IAAI,CAACU,KAAK,CAACK,KAAK,CAACF,GAAG,CAAC;MACrD;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}